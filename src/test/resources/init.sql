create table `points`
(
    `balance`       bigint not null,
    `point_id`      bigint auto_increment primary key,
    `update_millis` bigint not null,
    `user_id`       bigint not null,
    `version`       bigint not null
);

INSERT INTO `points` (`point_id`,`user_id`,`balance`,`update_millis`,`version`)
VALUES
    (1,1,1253500,0,0),
    (2,2,4524100,0,0),
    (3,3,8938400,0,0),
    (4,4,3380200,0,0),
    (5,5,2361400,0,0),
    (6,6,3594500,0,0),
    (7,7,3886700,0,0),
    (8,8,7729200,0,0),
    (9,9,3322700,0,0),
    (10,10,1684100,0,0);

create table `coupon_events`
(
    `current_count`   int     not null,
    `max_count`       int     not null,
    `type`            tinyint not null,
    `coupon_event_id` bigint auto_increment primary key,
    `expiry_millis`   bigint  not null,
    `value`           bigint  not null,
    check (`type` between 0 and 1)
);

INSERT INTO `coupon_events` (`coupon_event_id`,`max_count`,`expiry_millis`,`value`,`type`,`current_count`)
VALUES
    (1,82166,1946145464734,281,1,10),
    (2,58462,1946145464734,926,1,7),
    (3,52739,1946145464734,431,1,8),
    (4,1659,1946145464734,263,1,2),
    (5,70938,1946145464734,120,1,5),
    (6,23364,1946145464734,567,1,4),
    (7,9849,1946145464734,394,0,0),
    (8,93659,1946145464734,937,1,1),
    (9,2386,1946145464734,994,1,1),
    (10,13873,1946145464734,694,0,0);

create table `stocks`
(
    `quantity`   int    not null,
    `version`    int    not null,
    `product_id` bigint not null,
    `stock_id`   bigint auto_increment primary key
);

INSERT INTO `stocks` (`stock_id`,`product_id`,`quantity`,`version`)
VALUES
    (1,1,296,0),
    (2,2,902,0),
    (3,3,570,0),
    (4,4,863,0),
    (5,5,434,0),
    (6,6,724,0),
    (7,7,281,0),
    (8,8,283,0),
    (9,9,444,0),
    (10,10,754,0);

create table `products`
(
    `price`      bigint       not null,
    `product_id` bigint auto_increment primary key,
    `name`       varchar(255) not null
);

INSERT INTO `products` (`product_id`,`name`,`price`)
VALUES
    (1,"Zeph Boyer",10000),
    (2,"Zenia Garza",9000),
    (3,"Igor Bond",8000),
    (4,"Kennan Nash",7000),
    (5,"Minerva Woodard",6000),
    (6,"Iona Knapp",5000),
    (7,"Matthew Mullins",4000),
    (8,"Erasmus Hampton",3000),
    (9,"Nissim Santos",2000),
    (10,"Brenden Lott",1000);

create table orders
(
    `quantity`       int     not null,
    `create_millis`  bigint  not null,
    `order_id`       bigint auto_increment
        primary key,
    `payment_amount` bigint  not null,
    `product_id`     bigint  not null,
    `total_amount`   bigint  not null,
    `user_id`        bigint  not null,
    `status`         tinyint not null,
    check (`status` between 0 and 2)
);



INSERT INTO `orders` (`quantity`, `create_millis`, `payment_amount`, `product_id`, `total_amount`, `user_id`, `status`)
VALUES
    (1, 1746547366020, 6000, 5, 6000, 656, 2),
    (3, 1746543455020, 27000, 2, 27000, 83, 2),
    (1, 1746668153020, 3000, 8, 3000, 111, 2),
    (5, 1746618260020, 25000, 6, 25000, 421, 2),
    (3, 1746547451020, 27000, 2, 27000, 126, 2),
    (3, 1746596335020, 3000, 10, 3000, 303, 2),
    (5, 1746541960020, 50000, 1, 50000, 179, 2),
    (1, 1746475511020, 4000, 7, 4000, 670, 2),
    (3, 1746621155020, 27000, 2, 27000, 302, 2),
    (2, 1746659417020, 14000, 4, 14000, 245, 2),
    (4, 1746626636020, 36000, 2, 36000, 123, 2),
    (3, 1746546551020, 30000, 1, 30000, 252, 2),
    (2, 1746550463020, 16000, 3, 16000, 743, 2),
    (4, 1746581606020, 32000, 3, 32000, 345, 2),
    (2, 1746693109020, 4000, 9, 4000, 214, 2),
    (4, 1746637771020, 8000, 9, 8000, 64, 2),
    (4, 1746530398020, 16000, 7, 16000, 559, 2),
    (2, 1746563296020, 16000, 3, 16000, 791, 2),
    (1, 1746637347020, 6000, 5, 6000, 961, 2),
    (2, 1746459615020, 8000, 7, 8000, 851, 2),
    (5, 1746562278020, 15000, 8, 15000, 393, 2),
    (5, 1746577174020, 40000, 3, 40000, 314, 2),
    (5, 1746694800020, 50000, 1, 50000, 520, 2),
    (2, 1746638490020, 20000, 1, 20000, 739, 2),
    (1, 1746534755020, 2000, 9, 2000, 987, 2),
    (1, 1746668427020, 10000, 1, 10000, 479, 2),
    (3, 1746467063020, 6000, 9, 6000, 17, 2),
    (5, 1746662713020, 20000, 7, 20000, 827, 2),
    (5, 1746463565020, 45000, 2, 45000, 961, 2),
    (2, 1746449583020, 8000, 7, 8000, 814, 2),
    (1, 1746558714020, 10000, 1, 10000, 222, 2),
    (3, 1746576730020, 3000, 10, 3000, 5, 2),
    (5, 1746580249020, 40000, 3, 40000, 293, 2),
    (2, 1746580032020, 6000, 8, 6000, 248, 2),
    (2, 1746505076020, 20000, 1, 20000, 780, 2),
    (3, 1746673731020, 15000, 6, 15000, 556, 2),
    (2, 1746493334020, 10000, 6, 10000, 157, 2),
    (5, 1746610845020, 10000, 9, 10000, 788, 2),
    (2, 1746654140020, 12000, 5, 12000, 865, 2),
    (5, 1746552420020, 45000, 2, 45000, 336, 2),
    (4, 1746580819020, 40000, 1, 40000, 400, 2),
    (2, 1746642554020, 8000, 7, 8000, 387, 2),
    (2, 1746516734020, 8000, 7, 8000, 39, 2),
    (4, 1746634056020, 36000, 2, 36000, 454, 2),
    (1, 1746508784020, 1000, 10, 1000, 58, 2),
    (1, 1746575591020, 1000, 10, 1000, 994, 2),
    (3, 1746597812020, 3000, 10, 3000, 405, 2),
    (4, 1746575722020, 20000, 6, 20000, 528, 2),
    (3, 1746627486020, 30000, 1, 30000, 307, 2),
    (2, 1746536567020, 4000, 9, 4000, 316, 2),
    (4, 1746587916020, 12000, 8, 12000, 760, 2),
    (3, 1746482496020, 6000, 9, 6000, 679, 2),
    (1, 1746684036020, 5000, 6, 5000, 141, 2),
    (2, 1746502328020, 14000, 4, 14000, 35, 2),
    (4, 1746557013020, 28000, 4, 28000, 58, 2),
    (1, 1746664860020, 8000, 3, 8000, 336, 2),
    (2, 1746699985020, 8000, 7, 8000, 552, 2),
    (2, 1746636585020, 2000, 10, 2000, 152, 2),
    (2, 1746699833020, 18000, 2, 18000, 475, 2),
    (5, 1746617340020, 50000, 1, 50000, 114, 2),
    (2, 1746512033020, 6000, 8, 6000, 882, 2),
    (3, 1746638547020, 6000, 9, 6000, 551, 2),
    (2, 1746678623020, 14000, 4, 14000, 353, 2),
    (3, 1746468691020, 21000, 4, 21000, 547, 2),
    (5, 1746536243020, 15000, 8, 15000, 331, 2),
    (1, 1746471625020, 3000, 8, 3000, 583, 2),
    (4, 1746593512020, 4000, 10, 4000, 879, 2),
    (1, 1746454893020, 6000, 5, 6000, 767, 2),
    (2, 1746578926020, 20000, 1, 20000, 626, 2),
    (4, 1746529649020, 8000, 9, 8000, 334, 2),
    (5, 1746543626020, 30000, 5, 30000, 489, 2),
    (2, 1746628394020, 12000, 5, 12000, 135, 2),
    (5, 1746521679020, 10000, 9, 10000, 316, 2),
    (2, 1746540884020, 2000, 10, 2000, 998, 2),
    (5, 1746583006020, 45000, 2, 45000, 912, 2),
    (5, 1746657953020, 15000, 8, 15000, 965, 2),
    (5, 1746633666020, 30000, 5, 30000, 499, 2),
    (5, 1746506207020, 25000, 6, 25000, 540, 2),
    (4, 1746466531020, 4000, 10, 4000, 216, 2),
    (2, 1746515627020, 2000, 10, 2000, 574, 2),
    (3, 1746627755020, 9000, 8, 9000, 214, 2),
    (4, 1746491222020, 12000, 8, 12000, 851, 2),
    (3, 1746698082020, 18000, 5, 18000, 905, 2),
    (5, 1746555588020, 50000, 1, 50000, 492, 2),
    (1, 1746478413020, 8000, 3, 8000, 53, 2),
    (5, 1746587372020, 30000, 5, 30000, 734, 2),
    (4, 1746638795020, 4000, 10, 4000, 780, 2),
    (4, 1746615677020, 32000, 3, 32000, 509, 2),
    (5, 1746462542020, 50000, 1, 50000, 506, 2),
    (4, 1746452566020, 20000, 6, 20000, 132, 2),
    (2, 1746660685020, 16000, 3, 16000, 343, 2),
    (2, 1746603337020, 8000, 7, 8000, 925, 2),
    (3, 1746675262020, 12000, 7, 12000, 365, 2),
    (4, 1746616086020, 8000, 9, 8000, 508, 2),
    (1, 1746613155020, 6000, 5, 6000, 527, 2),
    (5, 1746625367020, 20000, 7, 20000, 285, 2),
    (3, 1746704702020, 9000, 8, 9000, 585, 2),
    (1, 1746540522020, 6000, 5, 6000, 110, 2),
    (2, 1746464986020, 2000, 10, 2000, 103, 2),
    (3, 1746670158020, 27000, 2, 27000, 641, 2),
    (5, 1746639991020, 5000, 10, 5000, 645, 2),
    (1, 1746627449020, 7000, 4, 7000, 951, 2),
    (3, 1746485356020, 27000, 2, 27000, 41, 2),
    (4, 1746506302020, 8000, 9, 8000, 631, 2),
    (4, 1746501899020, 20000, 6, 20000, 565, 2),
    (3, 1746635357020, 18000, 5, 18000, 414, 2),
    (1, 1746485526020, 2000, 9, 2000, 410, 2),
    (2, 1746700686020, 18000, 2, 18000, 125, 2),
    (3, 1746451471020, 6000, 9, 6000, 581, 2),
    (3, 1746640412020, 27000, 2, 27000, 130, 2),
    (4, 1746677855020, 12000, 8, 12000, 131, 2),
    (3, 1746518631020, 24000, 3, 24000, 803, 2),
    (3, 1746486634020, 30000, 1, 30000, 535, 2),
    (2, 1746608432020, 12000, 5, 12000, 518, 2),
    (4, 1746556757020, 8000, 9, 8000, 86, 2),
    (3, 1746669789020, 6000, 9, 6000, 211, 2),
    (5, 1746497039020, 30000, 5, 30000, 200, 2),
    (5, 1746576046020, 20000, 7, 20000, 816, 2),
    (5, 1746461808020, 35000, 4, 35000, 543, 2),
    (4, 1746638581020, 8000, 9, 8000, 750, 2),
    (4, 1746677839020, 24000, 5, 24000, 665, 2),
    (3, 1746581037020, 27000, 2, 27000, 807, 2),
    (3, 1746644391020, 21000, 4, 21000, 127, 2),
    (1, 1746503204020, 4000, 7, 4000, 97, 2),
    (5, 1746623053020, 40000, 3, 40000, 966, 2),
    (2, 1746617207020, 2000, 10, 2000, 853, 2),
    (4, 1746589198020, 16000, 7, 16000, 95, 2),
    (1, 1746707462020, 6000, 5, 6000, 883, 2),
    (3, 1746632956020, 3000, 10, 3000, 717, 2),
    (5, 1746602281020, 30000, 5, 30000, 213, 2),
    (4, 1746606941020, 12000, 8, 12000, 833, 2),
    (5, 1746609421020, 20000, 7, 20000, 913, 2),
    (1, 1746514404020, 10000, 1, 10000, 151, 2),
    (4, 1746567143020, 20000, 6, 20000, 492, 2),
    (5, 1746482795020, 35000, 4, 35000, 815, 2),
    (1, 1746524379020, 1000, 10, 1000, 850, 2),
    (4, 1746598390020, 36000, 2, 36000, 313, 2),
    (5, 1746613151020, 35000, 4, 35000, 721, 2),
    (4, 1746648032020, 8000, 9, 8000, 276, 2),
    (1, 1746472723020, 6000, 5, 6000, 376, 2),
    (4, 1746646330020, 12000, 8, 12000, 943, 2),
    (4, 1746497551020, 12000, 8, 12000, 805, 2),
    (1, 1746690681020, 3000, 8, 3000, 987, 2),
    (3, 1746539048020, 21000, 4, 21000, 475, 2),
    (1, 1746651261020, 8000, 3, 8000, 795, 2),
    (1, 1746703500020, 2000, 9, 2000, 88, 2),
    (5, 1746458285020, 5000, 10, 5000, 120, 2),
    (5, 1746672407020, 20000, 7, 20000, 267, 2),
    (2, 1746648061020, 18000, 2, 18000, 194, 2),
    (2, 1746524151020, 6000, 8, 6000, 545, 2),
    (5, 1746615422020, 20000, 7, 20000, 253, 2),
    (2, 1746652409020, 12000, 5, 12000, 236, 2),
    (5, 1746578597020, 35000, 4, 35000, 439, 2),
    (4, 1746692929020, 20000, 6, 20000, 324, 2),
    (2, 1746552995020, 20000, 1, 20000, 9, 2),
    (5, 1746643409020, 15000, 8, 15000, 499, 2),
    (5, 1746632130020, 10000, 9, 10000, 297, 2),
    (5, 1746669898020, 40000, 3, 40000, 459, 2),
    (2, 1746529255020, 18000, 2, 18000, 184, 2),
    (2, 1746544639020, 6000, 8, 6000, 844, 2),
    (3, 1746690898020, 3000, 10, 3000, 541, 2),
    (1, 1746507859020, 4000, 7, 4000, 99, 2),
    (2, 1746624992020, 20000, 1, 20000, 324, 2),
    (3, 1746499260020, 3000, 10, 3000, 883, 2),
    (1, 1746470153020, 9000, 2, 9000, 386, 2),
    (3, 1746639758020, 18000, 5, 18000, 259, 2),
    (5, 1746546926020, 50000, 1, 50000, 588, 2),
    (5, 1746545229020, 50000, 1, 50000, 560, 2),
    (3, 1746482382020, 12000, 7, 12000, 196, 2),
    (3, 1746462190020, 6000, 9, 6000, 464, 2),
    (2, 1746661409020, 20000, 1, 20000, 12, 2),
    (2, 1746649149020, 14000, 4, 14000, 339, 2),
    (2, 1746608800020, 4000, 9, 4000, 96, 2),
    (1, 1746591955020, 6000, 5, 6000, 970, 2),
    (4, 1746624974020, 24000, 5, 24000, 105, 2),
    (5, 1746540174020, 45000, 2, 45000, 427, 2),
    (3, 1746637346020, 30000, 1, 30000, 727, 2),
    (4, 1746449605020, 24000, 5, 24000, 842, 2),
    (4, 1746644911020, 40000, 1, 40000, 989, 2),
    (2, 1746605415020, 4000, 9, 4000, 210, 2),
    (3, 1746482166020, 6000, 9, 6000, 585, 2),
    (5, 1746615194020, 10000, 9, 10000, 926, 2),
    (2, 1746688865020, 8000, 7, 8000, 19, 2),
    (5, 1746539503020, 5000, 10, 5000, 384, 2),
    (4, 1746477948020, 4000, 10, 4000, 90, 2),
    (1, 1746646541020, 4000, 7, 4000, 776, 2),
    (4, 1746683844020, 4000, 10, 4000, 179, 2),
    (3, 1746644080020, 24000, 3, 24000, 190, 2),
    (4, 1746595483020, 4000, 10, 4000, 225, 2),
    (2, 1746478528020, 20000, 1, 20000, 530, 2),
    (1, 1746472461020, 9000, 2, 9000, 233, 2),
    (1, 1746684655020, 7000, 4, 7000, 684, 2),
    (5, 1746467153020, 25000, 6, 25000, 501, 2),
    (4, 1746475777020, 40000, 1, 40000, 25, 2),
    (2, 1746484296020, 10000, 6, 10000, 629, 2),
    (4, 1746521296020, 8000, 9, 8000, 789, 2),
    (5, 1746623904020, 45000, 2, 45000, 494, 2),
    (5, 1746590402020, 15000, 8, 15000, 578, 2),
    (3, 1746582418020, 3000, 10, 3000, 686, 2),
    (2, 1746597956020, 8000, 7, 8000, 636, 2),
    (1, 1746570367020, 9000, 2, 9000, 515, 2),
    (4, 1746513930020, 32000, 3, 32000, 294, 2),
    (3, 1746645939020, 6000, 9, 6000, 941, 2),
    (2, 1746649172020, 6000, 8, 6000, 108, 2),
    (4, 1746463324020, 32000, 3, 32000, 455, 2),
    (3, 1746564875020, 9000, 8, 9000, 977, 2),
    (2, 1746681884020, 14000, 4, 14000, 82, 2),
    (2, 1746695946020, 10000, 6, 10000, 653, 2),
    (4, 1746642436020, 40000, 1, 40000, 45, 2),
    (3, 1746532154020, 27000, 2, 27000, 714, 2),
    (1, 1746508733020, 8000, 3, 8000, 220, 2),
    (5, 1746690501020, 20000, 7, 20000, 919, 2),
    (1, 1746686278020, 1000, 10, 1000, 201, 2),
    (3, 1746605419020, 6000, 9, 6000, 182, 2),
    (5, 1746556240020, 25000, 6, 25000, 582, 2),
    (5, 1746537887020, 10000, 9, 10000, 596, 2),
    (4, 1746668070020, 32000, 3, 32000, 612, 2),
    (5, 1746600011020, 45000, 2, 45000, 894, 2),
    (2, 1746543095020, 12000, 5, 12000, 575, 2),
    (4, 1746665192020, 8000, 9, 8000, 320, 2),
    (3, 1746641370020, 9000, 8, 9000, 714, 2),
    (1, 1746707675020, 5000, 6, 5000, 324, 2),
    (3, 1746615254020, 21000, 4, 21000, 224, 2),
    (4, 1746590273020, 20000, 6, 20000, 392, 2),
    (1, 1746535040020, 6000, 5, 6000, 489, 2),
    (5, 1746594594020, 30000, 5, 30000, 722, 2),
    (5, 1746556150020, 35000, 4, 35000, 44, 2),
    (3, 1746631284020, 6000, 9, 6000, 122, 2),
    (3, 1746451963020, 15000, 6, 15000, 555, 2),
    (3, 1746702820020, 6000, 9, 6000, 467, 2),
    (5, 1746689836020, 45000, 2, 45000, 512, 2),
    (1, 1746702492020, 2000, 9, 2000, 177, 2),
    (5, 1746475583020, 10000, 9, 10000, 806, 2),
    (2, 1746507707020, 18000, 2, 18000, 219, 2),
    (2, 1746503450020, 10000, 6, 10000, 241, 2),
    (1, 1746603669020, 3000, 8, 3000, 767, 2),
    (2, 1746590455020, 12000, 5, 12000, 186, 2),
    (2, 1746595048020, 16000, 3, 16000, 492, 2),
    (2, 1746697854020, 4000, 9, 4000, 794, 2),
    (2, 1746561563020, 14000, 4, 14000, 602, 2),
    (4, 1746528328020, 20000, 6, 20000, 955, 2),
    (3, 1746596646020, 6000, 9, 6000, 992, 2),
    (3, 1746537062020, 18000, 5, 18000, 561, 2),
    (1, 1746581408020, 4000, 7, 4000, 159, 2),
    (2, 1746491500020, 2000, 10, 2000, 433, 2),
    (2, 1746598657020, 6000, 8, 6000, 953, 2),
    (5, 1746638080020, 30000, 5, 30000, 737, 2),
    (1, 1746671603020, 4000, 7, 4000, 911, 2),
    (5, 1746644074020, 35000, 4, 35000, 454, 2),
    (2, 1746662366020, 8000, 7, 8000, 748, 2),
    (5, 1746688013020, 25000, 6, 25000, 599, 2),
    (5, 1746637477020, 40000, 3, 40000, 709, 2),
    (1, 1746514038020, 3000, 8, 3000, 532, 2),
    (1, 1746650141020, 9000, 2, 9000, 580, 2),
    (4, 1746543578020, 40000, 1, 40000, 550, 2),
    (4, 1746623063020, 28000, 4, 28000, 783, 2),
    (3, 1746480791020, 21000, 4, 21000, 13, 2),
    (1, 1746555237020, 9000, 2, 9000, 553, 2),
    (3, 1746549921020, 30000, 1, 30000, 789, 2),
    (2, 1746605275020, 10000, 6, 10000, 196, 2),
    (1, 1746547242020, 7000, 4, 7000, 132, 2),
    (5, 1746636604020, 25000, 6, 25000, 571, 2),
    (3, 1746489592020, 30000, 1, 30000, 924, 2),
    (5, 1746653048020, 20000, 7, 20000, 20, 2),
    (5, 1746542838020, 40000, 3, 40000, 979, 2),
    (3, 1746522918020, 18000, 5, 18000, 262, 2),
    (4, 1746492575020, 12000, 8, 12000, 349, 2),
    (2, 1746645020020, 12000, 5, 12000, 879, 2),
    (4, 1746478625020, 16000, 7, 16000, 11, 2),
    (5, 1746531331020, 50000, 1, 50000, 268, 2),
    (3, 1746637804020, 18000, 5, 18000, 603, 2),
    (1, 1746557056020, 8000, 3, 8000, 432, 2),
    (5, 1746583718020, 20000, 7, 20000, 693, 2),
    (1, 1746506347020, 8000, 3, 8000, 472, 2),
    (4, 1746660391020, 4000, 10, 4000, 989, 2),
    (3, 1746579857020, 9000, 8, 9000, 206, 2),
    (5, 1746527777020, 50000, 1, 50000, 403, 2),
    (3, 1746624477020, 30000, 1, 30000, 994, 2),
    (4, 1746588146020, 20000, 6, 20000, 338, 2),
    (2, 1746644804020, 8000, 7, 8000, 70, 2),
    (5, 1746665422020, 25000, 6, 25000, 917, 2),
    (1, 1746706932020, 7000, 4, 7000, 67, 2),
    (3, 1746607595020, 24000, 3, 24000, 571, 2),
    (5, 1746547758020, 40000, 3, 40000, 295, 2),
    (5, 1746487251020, 30000, 5, 30000, 505, 2),
    (3, 1746478224020, 12000, 7, 12000, 200, 2),
    (3, 1746511886020, 21000, 4, 21000, 101, 2),
    (2, 1746649400020, 10000, 6, 10000, 635, 2),
    (2, 1746546720020, 14000, 4, 14000, 970, 2),
    (4, 1746591539020, 28000, 4, 28000, 411, 2),
    (1, 1746491249020, 5000, 6, 5000, 514, 2),
    (5, 1746580852020, 35000, 4, 35000, 745, 2),
    (5, 1746572069020, 45000, 2, 45000, 285, 2),
    (2, 1746633135020, 8000, 7, 8000, 520, 2),
    (1, 1746559275020, 2000, 9, 2000, 780, 2),
    (1, 1746665304020, 10000, 1, 10000, 810, 2),
    (3, 1746636516020, 12000, 7, 12000, 771, 2),
    (1, 1746636584020, 3000, 8, 3000, 999, 2),
    (5, 1746570397020, 40000, 3, 40000, 388, 2),
    (4, 1746638905020, 16000, 7, 16000, 840, 2),
    (5, 1746465540020, 35000, 4, 35000, 397, 2),
    (2, 1746626046020, 12000, 5, 12000, 303, 2),
    (2, 1746646570020, 2000, 10, 2000, 521, 2),
    (3, 1746632898020, 6000, 9, 6000, 743, 2),
    (1, 1746679029020, 3000, 8, 3000, 343, 2),
    (3, 1746691125020, 6000, 9, 6000, 992, 2),
    (5, 1746524265020, 20000, 7, 20000, 575, 2),
    (2, 1746495489020, 20000, 1, 20000, 915, 2),
    (3, 1746553051020, 6000, 9, 6000, 525, 2),
    (3, 1746620991020, 30000, 1, 30000, 372, 2),
    (3, 1746634925020, 15000, 6, 15000, 498, 2),
    (1, 1746596128020, 2000, 9, 2000, 343, 2),
    (4, 1746561414020, 32000, 3, 32000, 227, 2),
    (3, 1746585994020, 21000, 4, 21000, 575, 2),
    (3, 1746467107020, 3000, 10, 3000, 727, 2),
    (2, 1746602680020, 14000, 4, 14000, 501, 2),
    (3, 1746621440020, 21000, 4, 21000, 512, 2),
    (1, 1746510164020, 9000, 2, 9000, 106, 2),
    (3, 1746601770020, 3000, 10, 3000, 971, 2),
    (3, 1746626912020, 27000, 2, 27000, 676, 2),
    (5, 1746701594020, 40000, 3, 40000, 288, 2),
    (3, 1746652693020, 9000, 8, 9000, 769, 2),
    (4, 1746689691020, 24000, 5, 24000, 120, 2),
    (4, 1746624221020, 12000, 8, 12000, 350, 2),
    (4, 1746531346020, 28000, 4, 28000, 283, 2),
    (1, 1746650846020, 8000, 3, 8000, 808, 2),
    (4, 1746523835020, 12000, 8, 12000, 533, 2),
    (5, 1746529366020, 45000, 2, 45000, 748, 2),
    (4, 1746475493020, 24000, 5, 24000, 22, 2),
    (4, 1746459696020, 20000, 6, 20000, 739, 2),
    (3, 1746498633020, 3000, 10, 3000, 613, 2),
    (2, 1746551631020, 16000, 3, 16000, 248, 2),
    (5, 1746702939020, 15000, 8, 15000, 373, 2),
    (5, 1746641850020, 15000, 8, 15000, 566, 2),
    (2, 1746541871020, 14000, 4, 14000, 7, 2),
    (3, 1746483454020, 3000, 10, 3000, 566, 2),
    (1, 1746621306020, 8000, 3, 8000, 683, 2),
    (3, 1746553405020, 3000, 10, 3000, 454, 2),
    (4, 1746648441020, 16000, 7, 16000, 30, 2),
    (2, 1746589602020, 18000, 2, 18000, 977, 2),
    (1, 1746469936020, 10000, 1, 10000, 197, 2),
    (1, 1746522237020, 3000, 8, 3000, 722, 2),
    (3, 1746640594020, 6000, 9, 6000, 278, 2),
    (4, 1746478084020, 40000, 1, 40000, 201, 2),
    (2, 1746697257020, 12000, 5, 12000, 670, 2),
    (2, 1746506243020, 14000, 4, 14000, 258, 2),
    (2, 1746558295020, 12000, 5, 12000, 85, 2),
    (1, 1746539168020, 1000, 10, 1000, 792, 2),
    (4, 1746464141020, 24000, 5, 24000, 778, 2),
    (5, 1746622658020, 25000, 6, 25000, 816, 2),
    (5, 1746527349020, 40000, 3, 40000, 414, 2),
    (2, 1746464842020, 12000, 5, 12000, 746, 2),
    (1, 1746505943020, 6000, 5, 6000, 957, 2),
    (3, 1746472822020, 18000, 5, 18000, 385, 2),
    (1, 1746664462020, 10000, 1, 10000, 165, 2),
    (2, 1746582118020, 6000, 8, 6000, 792, 2),
    (1, 1746648860020, 1000, 10, 1000, 880, 2),
    (3, 1746623441020, 9000, 8, 9000, 631, 2),
    (1, 1746510867020, 3000, 8, 3000, 360, 2),
    (4, 1746656385020, 4000, 10, 4000, 439, 2),
    (1, 1746479761020, 10000, 1, 10000, 282, 2),
    (5, 1746458097020, 45000, 2, 45000, 374, 2),
    (1, 1746486075020, 1000, 10, 1000, 906, 2),
    (1, 1746575792020, 4000, 7, 4000, 927, 2),
    (2, 1746619302020, 12000, 5, 12000, 493, 2),
    (3, 1746688954020, 18000, 5, 18000, 69, 2),
    (4, 1746461328020, 4000, 10, 4000, 364, 2),
    (3, 1746480672020, 18000, 5, 18000, 599, 2),
    (4, 1746686809020, 36000, 2, 36000, 602, 2),
    (5, 1746576099020, 20000, 7, 20000, 254, 2),
    (1, 1746551087020, 7000, 4, 7000, 593, 2),
    (3, 1746563367020, 27000, 2, 27000, 700, 2),
    (4, 1746531153020, 36000, 2, 36000, 999, 2),
    (5, 1746461674020, 40000, 3, 40000, 824, 2),
    (3, 1746491568020, 3000, 10, 3000, 911, 2),
    (3, 1746536946020, 30000, 1, 30000, 980, 2),
    (1, 1746460030020, 3000, 8, 3000, 37, 2),
    (4, 1746622304020, 32000, 3, 32000, 658, 2),
    (5, 1746567701020, 5000, 10, 5000, 700, 2),
    (4, 1746485884020, 24000, 5, 24000, 161, 2),
    (4, 1746548643020, 4000, 10, 4000, 757, 2),
    (1, 1746623486020, 6000, 5, 6000, 861, 2),
    (4, 1746600525020, 28000, 4, 28000, 732, 2),
    (1, 1746704181020, 9000, 2, 9000, 135, 2),
    (3, 1746640351020, 12000, 7, 12000, 115, 2),
    (2, 1746543116020, 4000, 9, 4000, 379, 2),
    (3, 1746457797020, 30000, 1, 30000, 735, 2),
    (3, 1746653870020, 15000, 6, 15000, 489, 2),
    (2, 1746669276020, 6000, 8, 6000, 632, 2),
    (5, 1746576376020, 25000, 6, 25000, 178, 2),
    (5, 1746651525020, 35000, 4, 35000, 689, 2),
    (3, 1746564164020, 3000, 10, 3000, 997, 2),
    (4, 1746506840020, 8000, 9, 8000, 926, 2),
    (4, 1746679543020, 36000, 2, 36000, 481, 2),
    (4, 1746451098020, 12000, 8, 12000, 404, 2),
    (5, 1746636167020, 10000, 9, 10000, 579, 2),
    (3, 1746582217020, 6000, 9, 6000, 499, 2),
    (2, 1746613256020, 6000, 8, 6000, 526, 2),
    (1, 1746456157020, 10000, 1, 10000, 847, 2),
    (3, 1746559776020, 30000, 1, 30000, 800, 2),
    (3, 1746565149020, 18000, 5, 18000, 680, 2),
    (5, 1746560878020, 25000, 6, 25000, 136, 2),
    (5, 1746460315020, 30000, 5, 30000, 396, 2),
    (2, 1746624381020, 10000, 6, 10000, 97, 2),
    (3, 1746594008020, 3000, 10, 3000, 132, 2),
    (4, 1746646679020, 12000, 8, 12000, 438, 2),
    (4, 1746524268020, 36000, 2, 36000, 13, 2),
    (1, 1746679687020, 1000, 10, 1000, 130, 2),
    (4, 1746624273020, 24000, 5, 24000, 319, 2),
    (4, 1746554025020, 12000, 8, 12000, 927, 2),
    (2, 1746670350020, 12000, 5, 12000, 429, 2),
    (5, 1746607794020, 15000, 8, 15000, 7, 2),
    (2, 1746460762020, 6000, 8, 6000, 670, 2),
    (2, 1746543108020, 20000, 1, 20000, 296, 2),
    (5, 1746498141020, 45000, 2, 45000, 119, 2),
    (2, 1746658189020, 20000, 1, 20000, 960, 2),
    (1, 1746693949020, 4000, 7, 4000, 140, 2),
    (5, 1746525283020, 5000, 10, 5000, 402, 2),
    (4, 1746498213020, 12000, 8, 12000, 91, 2),
    (5, 1746640216020, 15000, 8, 15000, 895, 2),
    (5, 1746494357020, 15000, 8, 15000, 952, 2),
    (3, 1746586282020, 3000, 10, 3000, 265, 2),
    (4, 1746499654020, 20000, 6, 20000, 589, 2),
    (2, 1746497301020, 8000, 7, 8000, 118, 2),
    (3, 1746632634020, 30000, 1, 30000, 916, 2),
    (3, 1746613751020, 12000, 7, 12000, 839, 2),
    (4, 1746685298020, 36000, 2, 36000, 891, 2),
    (1, 1746633334020, 1000, 10, 1000, 793, 2),
    (4, 1746535448020, 12000, 8, 12000, 459, 2),
    (2, 1746490341020, 2000, 10, 2000, 496, 2),
    (3, 1746650903020, 3000, 10, 3000, 184, 2),
    (3, 1746561427020, 15000, 6, 15000, 536, 2),
    (3, 1746577040020, 27000, 2, 27000, 744, 2),
    (2, 1746686034020, 8000, 7, 8000, 991, 2),
    (4, 1746451496020, 36000, 2, 36000, 613, 2),
    (1, 1746556679020, 2000, 9, 2000, 489, 2),
    (3, 1746687015020, 3000, 10, 3000, 354, 2),
    (5, 1746497888020, 40000, 3, 40000, 135, 2),
    (3, 1746635268020, 21000, 4, 21000, 135, 2),
    (2, 1746564890020, 16000, 3, 16000, 598, 2),
    (3, 1746468926020, 3000, 10, 3000, 524, 2),
    (1, 1746697702020, 10000, 1, 10000, 547, 2),
    (5, 1746553248020, 10000, 9, 10000, 372, 2),
    (4, 1746462573020, 40000, 1, 40000, 324, 2),
    (1, 1746653942020, 5000, 6, 5000, 513, 2);


create table payments
(
    `amount`        bigint  not null,
    `create_millis` bigint  not null,
    `order_id`      bigint  not null,
    `payment_id`    bigint auto_increment
        primary key,
    `status`        tinyint not null,
    check (`status` between 0 and 3)
);

create table `coupons`
(
    `is_active`     bit     not null,
    `type`          tinyint not null,
    `coupon_id`     bigint auto_increment primary key,
    `create_millis` bigint  not null,
    `expiry_millis` bigint  not null,
    `update_millis` bigint  not null,
    `user_id`       bigint  not null,
    `value`         bigint  not null,
    check (`type` between 0 and 1)
);


CREATE TABLE `popularises` (
                               `popularity_id` BIGINT AUTO_INCREMENT PRIMARY KEY,
                               `product_id`    BIGINT       NOT NULL,
                               `product_name`  VARCHAR(255) NOT NULL,
                               `rank`          INT          NOT NULL,
                               `total_order`   INT          NOT NULL,
                               `update_mills`  BIGINT       NOT NULL
);